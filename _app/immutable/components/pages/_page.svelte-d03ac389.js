import{S as ut,i as lt,s as pt,k as p,q as _,a as tt,l as f,m as c,r as a,h as u,c as et,n as U,b as l,G as q,I as w,J as z,u as g,B as it,K as ft,o as rt}from"../../chunks/index-0f02ac0f.js";function nt(i){let n,r,m,y,s,P,C,R,B,o,S,k,D,G,K,b,M,O,v,F,H,J,T,Q,V,N,W,Y,E,A,L,I,X,Z,j,h,d;return{c(){n=p("h3"),r=_("Right now it's cheaper to "),m=_(i[9]),y=tt(),s=p("strong"),P=_("1m fuel: "),C=_(i[5]),R=p("br"),B=tt(),o=p("strong"),S=_("1m elec: "),k=_(i[6]),D=p("br"),G=p("br"),K=_(`
Current fuel cost: `),b=p("input"),M=p("br"),O=_(`
Current electricity cost: `),v=p("input"),F=p("br"),H=p("br"),J=_(`
Car avg fuel consumption l/m: `),T=p("input"),Q=p("br"),V=_(`
Car battery size kwh: `),N=p("input"),W=p("br"),Y=_(`
Car avg power mileage km: `),E=p("input"),A=p("br"),L=_(`
Car avg power consumption km/kwh: `),I=p("input"),X=p("br"),Z=_(`
Electricity tax: `),j=p("input"),this.h()},l(t){n=f(t,"H3",{});var e=c(n);r=a(e,"Right now it's cheaper to "),m=a(e,i[9]),e.forEach(u),y=et(t),s=f(t,"STRONG",{});var $=c(s);P=a($,"1m fuel: "),C=a($,i[5]),$.forEach(u),R=f(t,"BR",{}),B=et(t),o=f(t,"STRONG",{});var x=c(o);S=a(x,"1m elec: "),k=a(x,i[6]),x.forEach(u),D=f(t,"BR",{}),G=f(t,"BR",{}),K=a(t,`
Current fuel cost: `),b=f(t,"INPUT",{type:!0}),M=f(t,"BR",{}),O=a(t,`
Current electricity cost: `),v=f(t,"INPUT",{type:!0}),F=f(t,"BR",{}),H=f(t,"BR",{}),J=a(t,`
Car avg fuel consumption l/m: `),T=f(t,"INPUT",{type:!0}),Q=f(t,"BR",{}),V=a(t,`
Car battery size kwh: `),N=f(t,"INPUT",{type:!0}),W=f(t,"BR",{}),Y=a(t,`
Car avg power mileage km: `),E=f(t,"INPUT",{type:!0}),A=f(t,"BR",{}),L=a(t,`
Car avg power consumption km/kwh: `),I=f(t,"INPUT",{type:!0}),X=f(t,"BR",{}),Z=a(t,`
Electricity tax: `),j=f(t,"INPUT",{type:!0}),this.h()},h(){U(b,"type","text"),U(v,"type","text"),U(T,"type","text"),U(N,"type","text"),U(E,"type","text"),U(I,"type","text"),I.disabled=!0,I.value=i[7],U(j,"type","text")},m(t,e){l(t,n,e),q(n,r),q(n,m),l(t,y,e),l(t,s,e),q(s,P),q(s,C),l(t,R,e),l(t,B,e),l(t,o,e),q(o,S),q(o,k),l(t,D,e),l(t,G,e),l(t,K,e),l(t,b,e),w(b,i[4]),l(t,M,e),l(t,O,e),l(t,v,e),w(v,i[3]),l(t,F,e),l(t,H,e),l(t,J,e),l(t,T,e),w(T,i[2]),l(t,Q,e),l(t,V,e),l(t,N,e),w(N,i[1]),l(t,W,e),l(t,Y,e),l(t,E,e),w(E,i[0]),l(t,A,e),l(t,L,e),l(t,I,e),l(t,X,e),l(t,Z,e),l(t,j,e),w(j,i[8]),h||(d=[z(b,"input",i[10]),z(v,"input",i[11]),z(T,"input",i[12]),z(N,"input",i[13]),z(E,"input",i[14]),z(j,"input",i[15])],h=!0)},p(t,[e]){e&512&&g(m,t[9]),e&32&&g(C,t[5]),e&64&&g(k,t[6]),e&16&&b.value!==t[4]&&w(b,t[4]),e&8&&v.value!==t[3]&&w(v,t[3]),e&4&&T.value!==t[2]&&w(T,t[2]),e&2&&N.value!==t[1]&&w(N,t[1]),e&1&&E.value!==t[0]&&w(E,t[0]),e&128&&I.value!==t[7]&&(I.value=t[7]),e&256&&j.value!==t[8]&&w(j,t[8])},i:it,o:it,d(t){t&&u(n),t&&u(y),t&&u(s),t&&u(R),t&&u(B),t&&u(o),t&&u(D),t&&u(G),t&&u(K),t&&u(b),t&&u(M),t&&u(O),t&&u(v),t&&u(F),t&&u(H),t&&u(J),t&&u(T),t&&u(Q),t&&u(V),t&&u(N),t&&u(W),t&&u(Y),t&&u(E),t&&u(A),t&&u(L),t&&u(I),t&&u(X),t&&u(Z),t&&u(j),h=!1,ft(d)}}}async function st(){const i=new Date;var n=await fetch(`https://www.elprisetjustnu.se/api/v1/prices/${i.getFullYear()}/${(i.getMonth()+1).toString().padStart(2,"0")}-${i.getDate().toString().padStart(2,"0")}_SE3.json`),r=await n.json();for(let m of r){const y=new Date(m.time_start),s=new Date(m.time_end),P=new Date;if(P>y&&P<s)return m.SEK_per_kWh}return null}async function _t(){var i=await fetch("https://henrikhjelm.se/api/getdata.php?lan=jonkoping-lan"),n=await i.json();return n.jonkopinglan_OKQ8_JonkopingVarstarondellen_Huskvarna__95}function at(i,n,r){let m,y,s,P,C=48,R=13.3,B=.5,o=.7,S=0,k=0;async function D(){r(3,S=await st()+B),r(4,k=await _t())}rt(D);function G(){k=this.value,r(4,k)}function K(){S=this.value,r(3,S)}function b(){o=this.value,r(2,o)}function M(){R=this.value,r(1,R)}function O(){C=this.value,r(0,C)}function v(){B=this.value,r(8,B)}return i.$$.update=()=>{i.$$.dirty&3&&r(7,m=C/R),i.$$.dirty&136&&r(6,y=S*m),i.$$.dirty&20&&r(5,s=k*o),i.$$.dirty&96&&r(9,P=y<s?"charge":"fuel")},[C,R,o,S,k,s,y,m,B,P,G,K,b,M,O,v]}class ot extends ut{constructor(n){super(),lt(this,n,at,nt,pt,{})}}export{ot as default};
